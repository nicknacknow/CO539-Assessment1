<!DOCTYPE html>
<html>
    <head>
        <title>Assessment1</title>
        <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/ui/1.14.0/jquery-ui.min.js" integrity="sha256-Fb0zP4jE3JHqu+IBB9YktLcSjI1Zc6J2b6gTjB0LpoM=" crossorigin="anonymous"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

        <script>
            $(() => {
                const REGIONS_URL = "https://www.cs.kent.ac.uk/people/staff/yh/api/country-data/countries/regions"; // Endpoint for regions

                // given an array of names, this method will generate radio buttons for each name and append it to the parent element.
                function CreateRadioButtons(button_names, section_name, parent) {
                    button_names.forEach(button_name => {
                        var out = $('<div class="m-2"/>'); // create new div element for checkbox
                        out.append(`<input class="form-check-input m-1" type="radio" name="${section_name}" id="${button_name}">`); // create checkbox input with id of 'region'
                        out.append(`<label class="form-check-label" for="${button_name}">${button_name}</label>`); // create label for checkbox with id 'region'

                        out.appendTo(parent); // append our new checkbox div element to the #regions element
                    })
                }

                // TASK 1:  this function appends a checkbox for each region into its designated area.
                function LoadRegions(regions) {
                    regions = regions.filter(i => i !== "Antarctic"); // remove antarctic entry

                    CreateRadioButtons(regions, "region", $("#regions"));
                }

                // TASK 2:  once a region button has been selected, this will be called
                function onSelectRegion(data) {
                    console.log(data);
                    
                    // clear previous board-sizes
                    let parent = $("#board-sizes");
                    parent.empty();

                    // create radio buttons
                    CreateRadioButtons(["4 x 2", "4 x 4"], "board-size", parent);
                    // ^^6 i dont like this, remove and revert for Task 1 and here we will just modify from html?>

                    // once radio buttons are created, 
                }

                // Load Regions from API
                $.getJSON(REGIONS_URL, LoadRegions).then(
                    (data) => {
                        // once all region inputs are loaded, make them selectable.
                        $('input[type=radio][name=region]').on("click", onSelectRegion)
                    }
                );

                /*
                Good resources:
                Lect2.html
                Weather Demo


                https://getbootstrap.com/docs/4.0/utilities/spacing/
                https://getbootstrap.com/docs/5.3/utilities/flex/
                */

                $("button").on("click", method);
                function method() {
                    console.log("hi");
                }
            });

        </script>
    </head>
    <body class="p-5 text-center">
        <h1>Match countries with their flags</h1>
        <h3 class="pt-4 pb-2">Select a region:</h3>

        <div id="regions" class="d-flex justify-content-center">
            <!-- loaded in jQuery @ Line 25-->
        </div>

        <h3 class="pt-5 pb-2">Choose the board size:</h3>
        <div id="board-sizes" class="d-flex justify-content-center">
            <!-- loaded in jQuery @ Line 32-->
            <button></button>
        </div>

    </body>
</html>