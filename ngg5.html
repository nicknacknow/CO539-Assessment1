<!DOCTYPE html>
<html>
    <head>
        <title>Assessment1</title>
        <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/ui/1.14.0/jquery-ui.min.js" integrity="sha256-Fb0zP4jE3JHqu+IBB9YktLcSjI1Zc6J2b6gTjB0LpoM=" crossorigin="anonymous"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

        <script>
            $(() => {
                const REGIONS_URL = "https://www.cs.kent.ac.uk/people/staff/yh/api/country-data/countries/regions"; // Endpoint for regions

                function CreateRadioButtons(button_names, section_name, parent) {
                    button_names.forEach(button_name => {
                        var out = $('<div class="m-2"/>'); // create new div element for checkbox
                        out.append(`<input class="form-check-input m-1" type="radio" name="${section_name}" id="${button_name}">`); // create checkbox input with id of 'region'
                        out.append(`<label class="form-check-label" for="${button_name}">${button_name}</label>`); // create label for checkbox with id 'region'

                        out.appendTo(parent); // append our new checkbox div element to the #regions element
                    })
                }

                // TASK 1:  this function appends a checkbox for each region into its designated area.
                function LoadRegions(regions) {
                    regions = regions.filter(i => i !== "Antarctic"); // remove antarctic entry

                    CreateRadioButtons(regions, "region", $("#regions"));

                    /*regions.forEach(region => {
                        var out = $('<div class="m-2"/>'); // create new div element for checkbox
                        out.append(`<input class="form-check-input m-1" type="radio" name="region" id="${region}">`); // create checkbox input with id of 'region'
                        out.append(`<label class="form-check-label" for="${region}">${region}</label>`); // create label for checkbox with id 'region'

                        out.appendTo($("#regions")); // append our new checkbox div element to the #regions element
                    });*/
                }

                // TASK 2:  this 
                function onSelectRegion(data) {
                    console.log(data);
                }

                // Load Regions from API
                $.getJSON(REGIONS_URL, LoadRegions).then(
                    (data) => {
                        // once all region inputs are loaded, make them selectable.
                        $('input[type=radio][name=region]').on("click", onSelectRegion)
                    }
                );

                /*
                Good resources:
                Lect2.html
                Weather Demo

                */
            });

        </script>
    </head>
    <body class="p-5 text-center">
        <h1>Match countries with their flags</h1>
        <h3 class="pt-4 pb-2">Select a region:</h3>

        <div id="regions" class="d-flex justify-content-center">
            <!-- loaded in jQuery @ Line 14-->
        </div>

        <h3 class="pt-5 pb-2">Choose the board size:</h3>
        <div class="d-flex justify-content-center">
            <div class="m-2">
                <input class="form-check-input m-1" type="radio" name="board" id="4x2">
                <label class="form-check-label" for="4x2">4 x 2</label>
            </div>
            <div class="m-2">
                <input class="form-check-input m-1" type="radio" name="board" id="4x2">
                <label class="form-check-label" for="4x2">4 x 4</label>
            </div>
        </div>

    </body>
</html>